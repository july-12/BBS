<% if notice.present? %>
  <div class="fixed top-16 left-0 right-0">
    <div class="p-4 mb-4 text-sm text-green-800 rounded-lg bg-green-50 dark:bg-gray-800 dark:text-green-400" role="alert">
      <span class="font-medium"><%= notice %></span>
    </div>
  </div>
<% end %>
<div class="flex flex-col gap-4">
  <section id="<%= dom_id @post %>" class="flex flex-col gap-3 bg-white dark:bg-gray-900 rounded-lg p-5">
    <h2 class="text-4xl font-extrabold leading-none tracking-tight text-gray-900  dark:text-white"> <%= @post.title %> </h2>
    <div class="flex gap-2 text-slate-500 text-sm">
      <span>created_at </span>
      <span><%=  time_ago_in_words(@post.created_at) %> </span>
      <span>by </span>
      <% if @post.author.present? %>
        <%= link_to @post.author.name, @post.author %>
      <% end %>
    </div>
    <main class="min-h-[400px] my-4 text-lg font-normal text-gray-500 dark:text-gray-400"> <%= @post.context %> </main>
    <footer>
      <ul class="flex gap-2 items-center">
        <li>like</li>
        <li>share</li>
        <li>fovarite</li>
      </ul>
    </footer>
  </section>
  <section class="bg-white dark:bg-gray-900 rounded-lg px-6 p-3">
    <div> comments(<%= @post.comments.size %>)</div>
    <ul id="comments" class=" divide-y divide-gray-200 dark:divide-gray-700">
      <%= render @post.comments %>
    </ul>
  </section>
  <section class="bg-white dark:bg-gray-900 rounded-lg px-6 p-3">
    <%= render partial: "comments/new", locals: { model: [@post, @post.comments.build]} %>
  </section>
</div>